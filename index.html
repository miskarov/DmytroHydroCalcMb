<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Manitoba Hydro: –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≥–∞–∑–∞ –∏ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h2 { margin-top: 0; }
    .tab-btns button {
      margin-right: 10px;
      padding: 10px;
      font-weight: bold;
      cursor: pointer;
    }
    .tab { display: none; }
    .active { display: block; }
    label { display: block; margin: 5px 0; }
    input { width: 100px; padding: 4px; margin-left: 5px; }
    pre { background: #f4f4f4; padding: 10px; }
  </style>
</head>
<body>

  <h1>üí° Manitoba Hydro –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h1>

  <div class="tab-btns">
    <button onclick="showTab('electric')">‚ö° –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ</button>
    <button onclick="showTab('gas')">üî• –ì–∞–∑</button>
  </div>

  <!-- –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ -->
  <div id="electric" class="tab active">
    <h2>‚ö° –†–∞—Å—á—ë—Ç —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏</h2>
    <label>–ù–∞—á–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è: <input id="el_start" type="number"></label>
    <label>–ö–æ–Ω–µ—á–Ω—ã–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è: <input id="el_end" type="number"></label><br>
    <button onclick="calcElectric()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
    <pre id="el_result"></pre>
  </div>

  <!-- –ì–∞–∑ -->
  <div id="gas" class="tab">
    <h2>üî• –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≥–∞–∑–∞</h2>
    <label>–ü–æ–∫–∞–∑–∞–Ω–∏—è –≤ –Ω–∞—á–∞–ª–µ: <input id="gas_start" type="number"></label>
    <label>–ü–æ–∫–∞–∑–∞–Ω–∏—è –≤ –∫–æ–Ω—Ü–µ: <input id="gas_end" type="number"></label><br>
    <button onclick="calcGas()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
    <pre id="gas_result"></pre>
  </div>

  <script>
    function showTab(id) {
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function calcElectric() {
      const start = parseFloat(document.getElementById('el_start').value);
      const end = parseFloat(document.getElementById('el_end').value);
      const usageUnits = end - start;
      const kWh = usageUnits * 10;
      const rate = 0.09587;
      const base = 9.46;

      const energy = kWh * rate;
      const subtotal = energy + base;

      const cityTax = subtotal * 0.025;
      const provTax = subtotal * 0.07;
      const gst = subtotal * 0.05;
      const gstOnCity = cityTax * 0.05;

      const total = subtotal + cityTax + provTax + gst + gstOnCity;

      document.getElementById('el_result').innerText = `
–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: ${kWh.toFixed(0)} –∫–í—Ç¬∑—á
–°—Ç–æ–∏–º–æ—Å—Ç—å —ç–Ω–µ—Ä–≥–∏–∏: $${energy.toFixed(2)}
–ë–∞–∑–æ–≤–∞—è –ø–ª–∞—Ç–∞: $${base.toFixed(2)}
Subtotal: $${subtotal.toFixed(2)}

–ù–∞–ª–æ–≥–∏:
- City tax (2.5%): $${cityTax.toFixed(2)}
- Provincial tax (7%): $${provTax.toFixed(2)}
- GST (5%): $${gst.toFixed(2)}
- GST –Ω–∞ city tax: $${gstOnCity.toFixed(2)}

–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ: $${total.toFixed(2)}
`;
    }

    function calcGas() {
      const start = parseFloat(document.getElementById('gas_start').value);
      const end = parseFloat(document.getElementById('gas_end').value);
      const volume = end - start;

      const pressureAdj = 0.98780;
      const convFactor = 2.832784;
      const gasCommodity = 0.09610;
      const delivery = 0.13650;
      const baseFee = 14.75;

      const scm = volume * pressureAdj * convFactor;
      const commodityCost = scm * gasCommodity;
      const deliveryCost = scm * delivery;
      const subtotal = commodityCost + deliveryCost + baseFee;

      const cityTax = subtotal * 0.025;
      const provTax = subtotal * 0.014;
      const gst = subtotal * 0.05;
      const gstOnCity = cityTax * 0.05;

      const total = subtotal + cityTax + provTax + gst + gstOnCity;

      document.getElementById('gas_result').innerText = `
–û–±—ä–µ–º (–ø–æ —Å—á—ë—Ç—á–∏–∫—É): ${volume} –º¬≥
–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–º: ${scm.toFixed(3)} –º¬≥

- Gas Commodity: $${commodityCost.toFixed(2)}
- Delivery: $${deliveryCost.toFixed(2)}
- Base Fee: $${baseFee.toFixed(2)}
Subtotal: $${subtotal.toFixed(2)}

–ù–∞–ª–æ–≥–∏:
- City Tax (2.5%): $${cityTax.toFixed(2)}
- Prov Tax (1.4%): $${provTax.toFixed(2)}
- GST (5%): $${gst.toFixed(2)}
- GST –Ω–∞ City Tax: $${gstOnCity.toFixed(2)}

–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ: $${total.toFixed(2)}
`;
    }
  </script>
</body>
</html>